\hypertarget{class_q_u_e_s_o_1_1_vector_function_synchronizer}{\section{Q\-U\-E\-S\-O\-:\-:Vector\-Function\-Synchronizer$<$ P\-\_\-\-V, P\-\_\-\-M, Q\-\_\-\-V, Q\-\_\-\-M $>$ Class Template Reference}
\label{class_q_u_e_s_o_1_1_vector_function_synchronizer}\index{Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer$<$ P\-\_\-\-V, P\-\_\-\-M, Q\-\_\-\-V, Q\-\_\-\-M $>$@{Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer$<$ P\-\_\-\-V, P\-\_\-\-M, Q\-\_\-\-V, Q\-\_\-\-M $>$}}
}


A templated class for synchronizing the calls of vector-\/valued functions.  




{\ttfamily \#include $<$Vector\-Function\-Synchronizer.\-h$>$}



Collaboration diagram for Q\-U\-E\-S\-O\-:\-:Vector\-Function\-Synchronizer$<$ P\-\_\-\-V, P\-\_\-\-M, Q\-\_\-\-V, Q\-\_\-\-M $>$\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_q_u_e_s_o_1_1_vector_function_synchronizer__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{Indent}{\bf Constructor/\-Destructor methods}\par
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_a6ca588264a0c67e89a272d84099d8ec4}{Vector\-Function\-Synchronizer} (const \hyperlink{class_q_u_e_s_o_1_1_base_vector_function}{Base\-Vector\-Function}$<$ P\-\_\-\-V, P\-\_\-\-M, Q\-\_\-\-V, Q\-\_\-\-M $>$ \&input\-Function, const P\-\_\-\-V \&aux\-P\-Vec, const Q\-\_\-\-V \&aux\-Q\-Vec)
\begin{DoxyCompactList}\small\item\em Default constructor. \end{DoxyCompactList}\item 
\hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_af36b7e764244331c8b64ac53a16f5d6d}{$\sim$\-Vector\-Function\-Synchronizer} ()
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}{\bf Mathematical methods}\par
\begin{DoxyCompactItemize}
\item 
const \hyperlink{class_q_u_e_s_o_1_1_vector_set}{Vector\-Set}$<$ P\-\_\-\-V, P\-\_\-\-M $>$ \& \hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_a221738d8cac4be1e0516489d1520f92e}{domain\-Set} () const 
\begin{DoxyCompactList}\small\item\em Access to the domain set of the vector-\/valued function which will be synchronized. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}{\bf Sync method}\par
\begin{DoxyCompactItemize}
\item 
void \hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_a2b6003017f08403e8c6c006027dbe240}{call\-Function} (const P\-\_\-\-V $\ast$vec\-Values, const P\-\_\-\-V $\ast$vec\-Direction, Q\-\_\-\-V $\ast$image\-Vector, \hyperlink{class_q_u_e_s_o_1_1_dist_array}{Dist\-Array}$<$ P\-\_\-\-V $\ast$ $>$ $\ast$grad\-Vectors, \hyperlink{class_q_u_e_s_o_1_1_dist_array}{Dist\-Array}$<$ P\-\_\-\-M $\ast$ $>$ $\ast$hessian\-Matrices, \hyperlink{class_q_u_e_s_o_1_1_dist_array}{Dist\-Array}$<$ P\-\_\-\-V $\ast$ $>$ $\ast$hessian\-Effects) const 
\begin{DoxyCompactList}\small\item\em Calls the vector-\/valued function which will be synchronized. \end{DoxyCompactList}\end{DoxyCompactItemize}
\end{Indent}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
const \hyperlink{class_q_u_e_s_o_1_1_base_environment}{Base\-Environment} \& \hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_a36c2a9e1a2d317dddb5cf51b68e5c659}{m\-\_\-env}
\item 
const \hyperlink{class_q_u_e_s_o_1_1_base_vector_function}{Base\-Vector\-Function}$<$ P\-\_\-\-V, \\*
P\-\_\-\-M, Q\-\_\-\-V, Q\-\_\-\-M $>$ \& \hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_abde0efa4a6ab11898d8b0b0853d0971a}{m\-\_\-vector\-Function}
\item 
const P\-\_\-\-V \& \hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_af93da0ecec2b078ddacc8135f81cd996}{m\-\_\-aux\-P\-Vec}
\item 
const Q\-\_\-\-V \& \hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_a4fc0f69d67bfcfc200484bb741a2b75d}{m\-\_\-aux\-Q\-Vec}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\subsubsection*{template$<$class P\-\_\-\-V, class P\-\_\-\-M, class Q\-\_\-\-V, class Q\-\_\-\-M$>$class Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer$<$ P\-\_\-\-V, P\-\_\-\-M, Q\-\_\-\-V, Q\-\_\-\-M $>$}

A templated class for synchronizing the calls of vector-\/valued functions. 

This class creates a synchronization point among processes which call vector-\/valued functions. This means that all processes must reach a point in their code before they can all begin executing again. 

Definition at line 43 of file Vector\-Function\-Synchronizer.\-h.



\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_q_u_e_s_o_1_1_vector_function_synchronizer_a6ca588264a0c67e89a272d84099d8ec4}{\index{Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer@{Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer}!Vector\-Function\-Synchronizer@{Vector\-Function\-Synchronizer}}
\index{Vector\-Function\-Synchronizer@{Vector\-Function\-Synchronizer}!QUESO::VectorFunctionSynchronizer@{Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer}}
\subsubsection[{Vector\-Function\-Synchronizer}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class P\-\_\-\-V , class P\-\_\-\-M , class Q\-\_\-\-V , class Q\-\_\-\-M $>$ {\bf Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer}$<$ P\-\_\-\-V, P\-\_\-\-M, Q\-\_\-\-V, Q\-\_\-\-M $>$\-::{\bf Vector\-Function\-Synchronizer} (
\begin{DoxyParamCaption}
\item[{const {\bf Base\-Vector\-Function}$<$ P\-\_\-\-V, P\-\_\-\-M, Q\-\_\-\-V, Q\-\_\-\-M $>$ \&}]{input\-Function, }
\item[{const P\-\_\-\-V \&}]{aux\-P\-Vec, }
\item[{const Q\-\_\-\-V \&}]{aux\-Q\-Vec}
\end{DoxyParamCaption}
)}}\label{class_q_u_e_s_o_1_1_vector_function_synchronizer_a6ca588264a0c67e89a272d84099d8ec4}


Default constructor. 



Definition at line 33 of file Vector\-Function\-Synchronizer.\-C.


\begin{DoxyCode}
37   :
38   \hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_a36c2a9e1a2d317dddb5cf51b68e5c659}{m\_env}           (inputFunction.domainSet().env()),
39   \hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_abde0efa4a6ab11898d8b0b0853d0971a}{m\_vectorFunction}(inputFunction),
40   \hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_af93da0ecec2b078ddacc8135f81cd996}{m\_auxPVec}       (auxPVec),
41   \hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_a4fc0f69d67bfcfc200484bb741a2b75d}{m\_auxQVec}       (auxQVec)
42 \{
43 \}
\end{DoxyCode}
\hypertarget{class_q_u_e_s_o_1_1_vector_function_synchronizer_af36b7e764244331c8b64ac53a16f5d6d}{\index{Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer@{Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer}!$\sim$\-Vector\-Function\-Synchronizer@{$\sim$\-Vector\-Function\-Synchronizer}}
\index{$\sim$\-Vector\-Function\-Synchronizer@{$\sim$\-Vector\-Function\-Synchronizer}!QUESO::VectorFunctionSynchronizer@{Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer}}
\subsubsection[{$\sim$\-Vector\-Function\-Synchronizer}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class P\-\_\-\-V , class P\-\_\-\-M , class Q\-\_\-\-V , class Q\-\_\-\-M $>$ {\bf Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer}$<$ P\-\_\-\-V, P\-\_\-\-M, Q\-\_\-\-V, Q\-\_\-\-M $>$\-::$\sim${\bf Vector\-Function\-Synchronizer} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{class_q_u_e_s_o_1_1_vector_function_synchronizer_af36b7e764244331c8b64ac53a16f5d6d}


Destructor. 



Definition at line 47 of file Vector\-Function\-Synchronizer.\-C.


\begin{DoxyCode}
48 \{
49 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\hypertarget{class_q_u_e_s_o_1_1_vector_function_synchronizer_a2b6003017f08403e8c6c006027dbe240}{\index{Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer@{Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer}!call\-Function@{call\-Function}}
\index{call\-Function@{call\-Function}!QUESO::VectorFunctionSynchronizer@{Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer}}
\subsubsection[{call\-Function}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class P\-\_\-\-V , class P\-\_\-\-M , class Q\-\_\-\-V , class Q\-\_\-\-M $>$ void {\bf Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer}$<$ P\-\_\-\-V, P\-\_\-\-M, Q\-\_\-\-V, Q\-\_\-\-M $>$\-::call\-Function (
\begin{DoxyParamCaption}
\item[{const P\-\_\-\-V $\ast$}]{vec\-Values, }
\item[{const P\-\_\-\-V $\ast$}]{vec\-Direction, }
\item[{Q\-\_\-\-V $\ast$}]{image\-Vector, }
\item[{{\bf Dist\-Array}$<$ P\-\_\-\-V $\ast$ $>$ $\ast$}]{grad\-Vectors, }
\item[{{\bf Dist\-Array}$<$ P\-\_\-\-M $\ast$ $>$ $\ast$}]{hessian\-Matrices, }
\item[{{\bf Dist\-Array}$<$ P\-\_\-\-V $\ast$ $>$ $\ast$}]{hessian\-Effects}
\end{DoxyParamCaption}
) const}}\label{class_q_u_e_s_o_1_1_vector_function_synchronizer_a2b6003017f08403e8c6c006027dbe240}


Calls the vector-\/valued function which will be synchronized. 

This procedure forms a barrier, and no processes in the communicator can pass the barrier until all of them call the function. 

Definition at line 61 of file Vector\-Function\-Synchronizer.\-C.



References Raw\-Value\-\_\-\-M\-P\-I\-\_\-\-C\-H\-A\-R, Raw\-Value\-\_\-\-M\-P\-I\-\_\-\-D\-O\-U\-B\-L\-E, and U\-Q\-\_\-\-F\-A\-T\-A\-L\-\_\-\-T\-E\-S\-T\-\_\-\-M\-A\-C\-R\-O.


\begin{DoxyCode}
68 \{
69   \textcolor{keywordflow}{if} ((\hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_a36c2a9e1a2d317dddb5cf51b68e5c659}{m\_env}.\hyperlink{class_q_u_e_s_o_1_1_base_environment_ac0345f57e31ef7833e379ed972bd094d}{numSubEnvironments}() < (\textcolor{keywordtype}{unsigned} int) \hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_a36c2a9e1a2d317dddb5cf51b68e5c659}{m\_env}.
      \hyperlink{class_q_u_e_s_o_1_1_base_environment_a0b0779b41ff304058856e97e1d16b4d4}{fullComm}().\hyperlink{class_q_u_e_s_o_1_1_mpi_comm_aa780721ae0fdeabc5a15e04cb0cad964}{NumProc}()) &&
70       (\hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_af93da0ecec2b078ddacc8135f81cd996}{m\_auxPVec}.numOfProcsForStorage() == 1                                 ) &&
71       (\hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_a4fc0f69d67bfcfc200484bb741a2b75d}{m\_auxQVec}.numOfProcsForStorage() == 1                                 )) \{
72     \textcolor{keywordtype}{bool} stayInRoutine = \textcolor{keyword}{true};
73     \textcolor{keywordflow}{do} \{
74       \textcolor{keyword}{const} P\_V*                    internalValues    = NULL;
75       \textcolor{keyword}{const} P\_V*                    internalDirection = NULL;
76             Q\_V*                    internalImageVec  = NULL;
77             DistArray<P\_V*>* internalGrads     = NULL; \textcolor{comment}{// Yes, 'P\_V'}
78             DistArray<P\_M*>* internalHessians  = NULL; \textcolor{comment}{// Yes, 'P\_M'}
79             DistArray<P\_V*>* internalEffects   = NULL;
80 
82       \textcolor{comment}{// Broadcast 1 of 3}
84 \textcolor{comment}{}      \textcolor{comment}{// bufferChar[0] = '0' or '1' (vecValues       is NULL or not)}
85       \textcolor{comment}{// bufferChar[1] = '0' or '1' (vecDirection    is NULL or not)}
86       \textcolor{comment}{// bufferChar[2] = '0' or '1' (imageVector     is NULL or not)}
87       \textcolor{comment}{// bufferChar[3] = '0' or '1' (gradVectors     is NULL or not)}
88       \textcolor{comment}{// bufferChar[4] = '0' or '1' (hessianMatrices is NULL or not)}
89       \textcolor{comment}{// bufferChar[5] = '0' or '1' (hessianEffects  is NULL or not)}
90       std::vector<char> bufferChar(6,\textcolor{charliteral}{'0'});
91 
92       \textcolor{keywordflow}{if} (\hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_a36c2a9e1a2d317dddb5cf51b68e5c659}{m\_env}.\hyperlink{class_q_u_e_s_o_1_1_base_environment_a172d52f993f1322ed45aaddf71518dbb}{subRank}() == 0) \{
93         \hyperlink{_defines_8h_a56d63d18d0a6d45757de47fcc06f574d}{UQ\_FATAL\_TEST\_MACRO}((vecValues != NULL) && (imageVector == NULL),
94                             \hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_a36c2a9e1a2d317dddb5cf51b68e5c659}{m\_env}.\hyperlink{class_q_u_e_s_o_1_1_base_environment_a78b57112bbd0e6dd0e8afec00b40ffa7}{worldRank}(),
95                             \textcolor{stringliteral}{"VectorFunctionSynchronizer<P\_V,P\_M,Q\_V,Q\_M>::callFunction()"},
96                             \textcolor{stringliteral}{"imageVector should not be NULL"});
97         internalValues    = vecValues;
98         internalDirection = vecDirection;
99         internalImageVec  = imageVector;
100         internalGrads     = gradVectors;
101         internalHessians  = hessianMatrices;
102         internalEffects   = hessianEffects;
103 
104         \textcolor{keywordflow}{if} (internalValues    != NULL) bufferChar[0] = \textcolor{charliteral}{'1'};
105         \textcolor{keywordflow}{if} (internalDirection != NULL) bufferChar[1] = \textcolor{charliteral}{'1'};
106         \textcolor{keywordflow}{if} (internalImageVec  != NULL) bufferChar[2] = \textcolor{charliteral}{'1'};
107         \textcolor{keywordflow}{if} (internalGrads     != NULL) bufferChar[3] = \textcolor{charliteral}{'1'};
108         \textcolor{keywordflow}{if} (internalHessians  != NULL) bufferChar[4] = \textcolor{charliteral}{'1'};
109         \textcolor{keywordflow}{if} (internalEffects   != NULL) bufferChar[5] = \textcolor{charliteral}{'1'};
110       \}
111 
112       \hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_a36c2a9e1a2d317dddb5cf51b68e5c659}{m\_env}.\hyperlink{class_q_u_e_s_o_1_1_base_environment_affe39f53e3d5d678842413370af09145}{subComm}().\hyperlink{class_q_u_e_s_o_1_1_mpi_comm_a6f73891de4668c325277ddaa799cf808}{syncPrintDebugMsg}(\textcolor{stringliteral}{"In
       VectorFunctionSynchronizer<V,M>::callFunction(), just before char Bcast()"},3,3000000);
113       \textcolor{comment}{//if (m\_env.subId() != 0) while (true) sleep(1);}
114 
115       \textcolor{keywordtype}{int} count = (int) bufferChar.size();
116       \hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_a36c2a9e1a2d317dddb5cf51b68e5c659}{m\_env}.\hyperlink{class_q_u_e_s_o_1_1_base_environment_affe39f53e3d5d678842413370af09145}{subComm}().\hyperlink{class_q_u_e_s_o_1_1_mpi_comm_abd6af8db8b0c7fd2f5b62e26477a9537}{Bcast}((\textcolor{keywordtype}{void} *) &bufferChar[0], count, 
      \hyperlink{_mpi_comm_8h_ae81a57f3cac29c0f9c656182d95b8af1}{RawValue\_MPI\_CHAR}, 0,
117                             \textcolor{stringliteral}{"VectorFunctionSynchronizer<P\_V,P\_M,Q\_V,Q\_M>::callFunction()"},
118                             \textcolor{stringliteral}{"failed broadcast 1 of 3"});
119 
120       \textcolor{keywordflow}{if} (bufferChar[0] == \textcolor{charliteral}{'1'}) \{
122         \textcolor{comment}{// Broadcast 2 of 3}
124 \textcolor{comment}{}
125         \textcolor{comment}{// bufferDouble[0...] = contents for (eventual) vecValues}
126         std::vector<double> bufferDouble(\hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_af93da0ecec2b078ddacc8135f81cd996}{m\_auxPVec}.sizeLocal(),0);
127 
128         \textcolor{keywordflow}{if} (\hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_a36c2a9e1a2d317dddb5cf51b68e5c659}{m\_env}.\hyperlink{class_q_u_e_s_o_1_1_base_environment_a172d52f993f1322ed45aaddf71518dbb}{subRank}() == 0) \{
129           \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < internalValues->sizeLocal(); ++i) \{
130             bufferDouble[i] = (*internalValues)[i];
131           \}
132         \}
133 
134         count = (int) bufferDouble.size();
135         \hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_a36c2a9e1a2d317dddb5cf51b68e5c659}{m\_env}.\hyperlink{class_q_u_e_s_o_1_1_base_environment_affe39f53e3d5d678842413370af09145}{subComm}().\hyperlink{class_q_u_e_s_o_1_1_mpi_comm_abd6af8db8b0c7fd2f5b62e26477a9537}{Bcast}((\textcolor{keywordtype}{void} *) &bufferDouble[0], count, 
      \hyperlink{_mpi_comm_8h_ad0f503bd9fecfe4e570ca3d15aaf2518}{RawValue\_MPI\_DOUBLE}, 0,
136                               \textcolor{stringliteral}{"VectorFunctionSynchronizer<P\_V,P\_M,Q\_V,Q\_M>::callFunction()"},
137                               \textcolor{stringliteral}{"failed broadcast 2 of 3"});
138 
139         \textcolor{keywordflow}{if} (\hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_a36c2a9e1a2d317dddb5cf51b68e5c659}{m\_env}.\hyperlink{class_q_u_e_s_o_1_1_base_environment_a172d52f993f1322ed45aaddf71518dbb}{subRank}() != 0) \{
140           P\_V tmpPVec(\hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_af93da0ecec2b078ddacc8135f81cd996}{m\_auxPVec});
141           \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < tmpPVec.sizeLocal(); ++i) \{
142             tmpPVec[i] = bufferDouble[i];
143           \}
144           internalValues = \textcolor{keyword}{new} P\_V(tmpPVec);
145         \}
146 
147         \textcolor{keywordflow}{if} (bufferChar[1] == \textcolor{charliteral}{'1'}) \{
149           \textcolor{comment}{// Broadcast 3 of 3}
151 \textcolor{comment}{}          \textcolor{comment}{// bufferDouble[0...] = contents for (eventual) vecDirection}
152 
153           \textcolor{keywordflow}{if} (\hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_a36c2a9e1a2d317dddb5cf51b68e5c659}{m\_env}.\hyperlink{class_q_u_e_s_o_1_1_base_environment_a172d52f993f1322ed45aaddf71518dbb}{subRank}() == 0) \{
154             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < internalDirection->sizeLocal(); ++i) \{
155               bufferDouble[i] = (*internalDirection)[i];
156             \}
157           \}
158 
159           count = (int) bufferDouble.size();
160           \hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_a36c2a9e1a2d317dddb5cf51b68e5c659}{m\_env}.\hyperlink{class_q_u_e_s_o_1_1_base_environment_affe39f53e3d5d678842413370af09145}{subComm}().\hyperlink{class_q_u_e_s_o_1_1_mpi_comm_abd6af8db8b0c7fd2f5b62e26477a9537}{Bcast}((\textcolor{keywordtype}{void} *) &bufferDouble[0], count, 
      \hyperlink{_mpi_comm_8h_ad0f503bd9fecfe4e570ca3d15aaf2518}{RawValue\_MPI\_DOUBLE}, 0,
161                                 \textcolor{stringliteral}{"VectorFunctionSynchronizer<P\_V,P\_M,Q\_V,Q\_M>::callFunction()"},
162                                 \textcolor{stringliteral}{"failed broadcast 3 of 3"});
163 
164           \textcolor{keywordflow}{if} (\hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_a36c2a9e1a2d317dddb5cf51b68e5c659}{m\_env}.\hyperlink{class_q_u_e_s_o_1_1_base_environment_a172d52f993f1322ed45aaddf71518dbb}{subRank}() != 0) \{
165             P\_V tmpPVec(\hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_af93da0ecec2b078ddacc8135f81cd996}{m\_auxPVec});
166             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} i = 0; i < tmpPVec.sizeLocal(); ++i) \{
167               tmpPVec[i] = bufferDouble[i];
168             \}
169             internalDirection = \textcolor{keyword}{new} P\_V(tmpPVec);
170           \}
171         \}
172 
174         \textcolor{comment}{// All processors now call 'vectorFunction()'}
176 \textcolor{comment}{}        \textcolor{keywordflow}{if} (\hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_a36c2a9e1a2d317dddb5cf51b68e5c659}{m\_env}.\hyperlink{class_q_u_e_s_o_1_1_base_environment_a172d52f993f1322ed45aaddf71518dbb}{subRank}() != 0) \{
177           \textcolor{keywordflow}{if} (bufferChar[2] == \textcolor{charliteral}{'1'}) internalImageVec = \textcolor{keyword}{new} Q\_V(\hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_a4fc0f69d67bfcfc200484bb741a2b75d}{m\_auxQVec});
178         \textcolor{comment}{//if (bufferChar[3] == '1') internalGrads    = new P\_V(m\_auxPVec);}
179         \textcolor{comment}{//if (bufferChar[4] == '1') internalHessians = new P\_M(m\_auxPVec);}
180         \textcolor{comment}{//if (bufferChar[5] == '1') internalEffects  = new P\_V(m\_auxPVec);}
181         \}
182 
183         \hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_a36c2a9e1a2d317dddb5cf51b68e5c659}{m\_env}.\hyperlink{class_q_u_e_s_o_1_1_base_environment_affe39f53e3d5d678842413370af09145}{subComm}().\hyperlink{class_q_u_e_s_o_1_1_mpi_comm_a4059971c30e023b272fccaa6aa00c426}{Barrier}();
184         \hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_abde0efa4a6ab11898d8b0b0853d0971a}{m\_vectorFunction}.compute(*internalValues,
185                                  internalDirection,
186                                  *internalImageVec,
187                                  internalGrads,
188                                  internalHessians,
189                                  internalEffects);
190       \}
191 
193       \textcolor{comment}{// Prepare to exit routine or to stay in it}
195 \textcolor{comment}{}      \textcolor{keywordflow}{if} (\hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_a36c2a9e1a2d317dddb5cf51b68e5c659}{m\_env}.\hyperlink{class_q_u_e_s_o_1_1_base_environment_a172d52f993f1322ed45aaddf71518dbb}{subRank}() == 0) \{
196         stayInRoutine = \textcolor{keyword}{false}; \textcolor{comment}{// Always for processor 0}
197       \}
198       \textcolor{keywordflow}{else} \{
199         \textcolor{keywordflow}{if} (internalValues    != NULL) \textcolor{keyword}{delete} internalValues;
200         \textcolor{keywordflow}{if} (internalDirection != NULL) \textcolor{keyword}{delete} internalDirection;
201         \textcolor{keywordflow}{if} (internalImageVec  != NULL) \textcolor{keyword}{delete} internalImageVec;
202       \textcolor{comment}{//if (internalGrads     != NULL) delete internalGrads;}
203       \textcolor{comment}{//if (internalHessians  != NULL) delete internalHessians;}
204       \textcolor{comment}{//if (internalEffects   != NULL) delete internalEffects;}
205 
206         stayInRoutine = (vecValues == NULL) && (bufferChar[0] == \textcolor{charliteral}{'1'});
207       \}
208     \} \textcolor{keywordflow}{while} (stayInRoutine);
209   \}
210   \textcolor{keywordflow}{else} \{
211     \hyperlink{_defines_8h_a56d63d18d0a6d45757de47fcc06f574d}{UQ\_FATAL\_TEST\_MACRO}((vecValues == NULL) || (imageVector == NULL),
212                         \hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_a36c2a9e1a2d317dddb5cf51b68e5c659}{m\_env}.\hyperlink{class_q_u_e_s_o_1_1_base_environment_a78b57112bbd0e6dd0e8afec00b40ffa7}{worldRank}(),
213                         \textcolor{stringliteral}{"VectorFunctionSynchronizer<V,M>::callFunction()"},
214                         \textcolor{stringliteral}{"Neither vecValues nor imageVector should not be NULL"});
215     \hyperlink{_defines_8h_a56d63d18d0a6d45757de47fcc06f574d}{UQ\_FATAL\_TEST\_MACRO}((\hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_af93da0ecec2b078ddacc8135f81cd996}{m\_auxPVec}.numOfProcsForStorage() != 
      \hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_a4fc0f69d67bfcfc200484bb741a2b75d}{m\_auxQVec}.numOfProcsForStorage()),
216                         \hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_a36c2a9e1a2d317dddb5cf51b68e5c659}{m\_env}.\hyperlink{class_q_u_e_s_o_1_1_base_environment_a78b57112bbd0e6dd0e8afec00b40ffa7}{worldRank}(),
217                         \textcolor{stringliteral}{"VectorFunctionSynchronizer<V,M>::callFunction()"},
218                         \textcolor{stringliteral}{"Number of processors required for storage should be the same"});
219 
220     \hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_a36c2a9e1a2d317dddb5cf51b68e5c659}{m\_env}.\hyperlink{class_q_u_e_s_o_1_1_base_environment_affe39f53e3d5d678842413370af09145}{subComm}().\hyperlink{class_q_u_e_s_o_1_1_mpi_comm_a4059971c30e023b272fccaa6aa00c426}{Barrier}();
221     \hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_abde0efa4a6ab11898d8b0b0853d0971a}{m\_vectorFunction}.compute(*vecValues,
222                              vecDirection,
223                              *imageVector,
224                              gradVectors,
225                              hessianMatrices,
226                              hessianEffects);
227   \}
228 
229   \textcolor{keywordflow}{return};
230 \}
\end{DoxyCode}
\hypertarget{class_q_u_e_s_o_1_1_vector_function_synchronizer_a221738d8cac4be1e0516489d1520f92e}{\index{Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer@{Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer}!domain\-Set@{domain\-Set}}
\index{domain\-Set@{domain\-Set}!QUESO::VectorFunctionSynchronizer@{Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer}}
\subsubsection[{domain\-Set}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class P\-\_\-\-V , class P\-\_\-\-M , class Q\-\_\-\-V , class Q\-\_\-\-M $>$ const {\bf Vector\-Set}$<$ P\-\_\-\-V, P\-\_\-\-M $>$ \& {\bf Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer}$<$ P\-\_\-\-V, P\-\_\-\-M, Q\-\_\-\-V, Q\-\_\-\-M $>$\-::domain\-Set (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}}\label{class_q_u_e_s_o_1_1_vector_function_synchronizer_a221738d8cac4be1e0516489d1520f92e}


Access to the domain set of the vector-\/valued function which will be synchronized. 



Definition at line 53 of file Vector\-Function\-Synchronizer.\-C.


\begin{DoxyCode}
54 \{
55   \textcolor{keywordflow}{return} \hyperlink{class_q_u_e_s_o_1_1_vector_function_synchronizer_abde0efa4a6ab11898d8b0b0853d0971a}{m\_vectorFunction}.domainSet();
56 \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\hypertarget{class_q_u_e_s_o_1_1_vector_function_synchronizer_af93da0ecec2b078ddacc8135f81cd996}{\index{Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer@{Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer}!m\-\_\-aux\-P\-Vec@{m\-\_\-aux\-P\-Vec}}
\index{m\-\_\-aux\-P\-Vec@{m\-\_\-aux\-P\-Vec}!QUESO::VectorFunctionSynchronizer@{Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer}}
\subsubsection[{m\-\_\-aux\-P\-Vec}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class P\-\_\-\-V , class P\-\_\-\-M , class Q\-\_\-\-V , class Q\-\_\-\-M $>$ const P\-\_\-\-V\& {\bf Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer}$<$ P\-\_\-\-V, P\-\_\-\-M, Q\-\_\-\-V, Q\-\_\-\-M $>$\-::m\-\_\-aux\-P\-Vec\hspace{0.3cm}{\ttfamily [private]}}}\label{class_q_u_e_s_o_1_1_vector_function_synchronizer_af93da0ecec2b078ddacc8135f81cd996}


Definition at line 77 of file Vector\-Function\-Synchronizer.\-h.

\hypertarget{class_q_u_e_s_o_1_1_vector_function_synchronizer_a4fc0f69d67bfcfc200484bb741a2b75d}{\index{Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer@{Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer}!m\-\_\-aux\-Q\-Vec@{m\-\_\-aux\-Q\-Vec}}
\index{m\-\_\-aux\-Q\-Vec@{m\-\_\-aux\-Q\-Vec}!QUESO::VectorFunctionSynchronizer@{Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer}}
\subsubsection[{m\-\_\-aux\-Q\-Vec}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class P\-\_\-\-V , class P\-\_\-\-M , class Q\-\_\-\-V , class Q\-\_\-\-M $>$ const Q\-\_\-\-V\& {\bf Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer}$<$ P\-\_\-\-V, P\-\_\-\-M, Q\-\_\-\-V, Q\-\_\-\-M $>$\-::m\-\_\-aux\-Q\-Vec\hspace{0.3cm}{\ttfamily [private]}}}\label{class_q_u_e_s_o_1_1_vector_function_synchronizer_a4fc0f69d67bfcfc200484bb741a2b75d}


Definition at line 78 of file Vector\-Function\-Synchronizer.\-h.

\hypertarget{class_q_u_e_s_o_1_1_vector_function_synchronizer_a36c2a9e1a2d317dddb5cf51b68e5c659}{\index{Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer@{Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer}!m\-\_\-env@{m\-\_\-env}}
\index{m\-\_\-env@{m\-\_\-env}!QUESO::VectorFunctionSynchronizer@{Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer}}
\subsubsection[{m\-\_\-env}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class P\-\_\-\-V , class P\-\_\-\-M , class Q\-\_\-\-V , class Q\-\_\-\-M $>$ const {\bf Base\-Environment}\& {\bf Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer}$<$ P\-\_\-\-V, P\-\_\-\-M, Q\-\_\-\-V, Q\-\_\-\-M $>$\-::m\-\_\-env\hspace{0.3cm}{\ttfamily [private]}}}\label{class_q_u_e_s_o_1_1_vector_function_synchronizer_a36c2a9e1a2d317dddb5cf51b68e5c659}


Definition at line 75 of file Vector\-Function\-Synchronizer.\-h.

\hypertarget{class_q_u_e_s_o_1_1_vector_function_synchronizer_abde0efa4a6ab11898d8b0b0853d0971a}{\index{Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer@{Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer}!m\-\_\-vector\-Function@{m\-\_\-vector\-Function}}
\index{m\-\_\-vector\-Function@{m\-\_\-vector\-Function}!QUESO::VectorFunctionSynchronizer@{Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer}}
\subsubsection[{m\-\_\-vector\-Function}]{\setlength{\rightskip}{0pt plus 5cm}template$<$class P\-\_\-\-V , class P\-\_\-\-M , class Q\-\_\-\-V , class Q\-\_\-\-M $>$ const {\bf Base\-Vector\-Function}$<$P\-\_\-\-V,P\-\_\-\-M,Q\-\_\-\-V,Q\-\_\-\-M$>$\& {\bf Q\-U\-E\-S\-O\-::\-Vector\-Function\-Synchronizer}$<$ P\-\_\-\-V, P\-\_\-\-M, Q\-\_\-\-V, Q\-\_\-\-M $>$\-::m\-\_\-vector\-Function\hspace{0.3cm}{\ttfamily [private]}}}\label{class_q_u_e_s_o_1_1_vector_function_synchronizer_abde0efa4a6ab11898d8b0b0853d0971a}


Definition at line 76 of file Vector\-Function\-Synchronizer.\-h.



The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
src/basic/inc/\hyperlink{_vector_function_synchronizer_8h}{Vector\-Function\-Synchronizer.\-h}\item 
src/basic/src/\hyperlink{_vector_function_synchronizer_8_c}{Vector\-Function\-Synchronizer.\-C}\end{DoxyCompactItemize}
